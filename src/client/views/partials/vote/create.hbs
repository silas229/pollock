<div class="mx-auto mb-6 max-w-7xl sm:px-6 lg:px-8">
  <div class="overflow-hidden bg-white shadow-sm dark:bg-gray-800 sm:rounded-lg">
    <div class="p-6 text-gray-900 dark:text-gray-100">
      <h2 class="pb-4 text-xl">Submit new Vote</h2>
      <form action="/vote/lack/{{ poll.token }}" x-data="voteForm()" x-init="initForm" method="post">
        {{#unless user}}
        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300" for="name">
          Your Name
        </label>
        <input
          class="block w-full border-gray-300 rounded-md shadow-sm dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-primary-500 dark:focus:border-primary-600 focus:ring-primary-500 dark:focus:ring-primary-600"
          type="text" x-model="formData.name" id="name" name="name" required="required" autofocus="autofocus">
        <span class="error" for="name"></span>
        {{/unless}}

        <fieldset class="mt-4">
          <legend>Choices (You have {{poll.setting.voices}} {{pluralize poll.setting.voices "vote" "votes"}})</legend>
          {{#if poll.setting.worst}}
          <label class="block text-right">Worst</label>
          {{/if}}
          <ul class="block">
            {{#each poll.options}}
            <li class="p-2">
              <input type="checkbox" name="{{ this.id }}" id="option-{{ this.id }}"
                class="w-4 h-4 mr-2 border-gray-300 rounded text-primary-600 focus:ring-primary-600">
              <label for="option-{{ this.id }}">{{ this.text }}</label>
              {{#if ../poll.setting.worst}}
              <input type="radio" name="worst" value="{{ this.id }}"
                class="float-right w-4 h-4 border-gray-300 text-primary-600 focus:ring-primary-600">
              {{/if}}
            </li>
            {{/each}}
          </ul>
        </fieldset>
      </form>
    </div>
  </div>
</div>

<script>
  function voteForm() {
    initForm() {

    },
  }
</script>